<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cromseal Roofguard</title>
    <link rel="icon" type="image/x-icon" href="images/logo/cromsealLogoFavicon.png">
    <link rel="stylesheet" href="css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <script src="js/scripts.js"></script>

</head>
<body>
    <header>
        <nav>
            <div class="logo">
                <img src="images/logo/cromsealLogoNavyCrop01.png" alt="Logo">
            </div>
            <div class="hamburger" id="hamburger">
                <div class="bar"></div>
                <div class="bar"></div>
                <div class="bar"></div>
            </div>
            <ul id="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="about-us.html">About Us</a></li>
                <li class="dropdown">
                    <a href="services.html" class="dropbtn">Services</a>
                    <button class="dropdown-toggle" id="dropdown-toggle">â–¼</button>
                    <div class="dropdown-content">
                        <a href="concrete-roof-coating.html">Concrete/Clay Roof Coating</a>
                        <a href="metal-roof-coating.html">Metal Roof Coating</a>
                        <a href="re-roofing.html">Re-Roofing</a>
                        <a href="insulation.html">Insulation</a>
                        <a href="slab-waterproofing.html">R.C. Slab Waterproofing</a>
                    </div>
                </li>                
                <li><a href="projects.html">Projects</a></li>
                <li><a href="contact.html">Contact Us</a></li>
            </ul>
        </nav>
    </header>
    
    <!-- <section class="hero">
        <div class="hero-content">
            <h1>We Care About Your Roof Like It's Ours</h1>
            <p>Because everyone deserves a roof they can count on</p>
            <div class="hero-buttons">
                <button onclick="location.href='quote.html'">Get a Quote</button>
                <button onclick="location.href='services.html'">View Services</button>
            </div>
        </div>
    </section> -->

    <section class="hero">
        <video autoplay muted loop class="hero-video">
            <source src="images/content/02_Hero Section.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
        <div class="hero-content">
            <h1>We Care About Your Roof Like It's Ours</h1>
            <p>Because everyone deserves a roof they can count on</p>
            <div class="hero-buttons">
                <button onclick="location.href='https://wa.me/0182071833'">Get a Quote</button>
                <button onclick="location.href='services.html'">View Services</button>
            </div>
        </div>
    </section>

    <!-- <div class="img-comp-container">
        <div class="img-comp-img">
            <img src="images/content/roofComparison1a.png" alt="Before">
        </div>
        <div class="img-comp-img img-comp-overlay">
            <img src="images/content/roofComparison1b.png" alt="After">
        </div>
    </div> -->
    <section> 
        <div style="height: 400px; background-color: white;">
            <h1>About us</h1>
        </div>
    </section>

    <div class="slider-container">
        <img src="images/content/roofComparisonBefore2.png" alt="After" class="slider-image">
        <img src="images/content/roofComparisonAfter2.png" alt="Before" class="slider-image image-before">
        <div class="slider-line"></div>
        <div class="slider-handle"></div>
    </div>
    <!-- <section class="image-gallery">
        <div class="gallery-container">
            <img src="image1.jpg" alt="Project 1" class="gallery-item">
            <img src="image2.jpg" alt="Project 2" class="gallery-item">
            <img src="image3.jpg" alt="Project 3" class="gallery-item">
            <img src="image4.jpg" alt="Project 4" class="gallery-item">
            <img src="image5.jpg" alt="Project 5" class="gallery-item">
        </div>
    </section> -->

    <a href="https://wa.me/0182071833" class="whatsapp-float" target="_blank">
        <img src="images/icons/WhatsApp_icon.png" alt="WhatsApp">
    </a>

    <footer>
        <div class="footer-content">
            <p>&copy; 2024 Cromseal Roofguard Sdn Bhd. All rights reserved.</p>
            <br>
            <p>Contact Us: No.16, Jalan Industri USJ 1/13, Taman Perindustrian USJ 1, Subang Jaya, Selangor.</p>
            <p>Email: info@cromseal.com | Phone: +6012-3456789</p>
            <br>
            <p><a href="terms.html">Terms and Conditions</a></p>
        </div>
        <div class="logo">
            <img src="images/logo/cromsealLogoNavyCrop01.png" alt="Logo">
        </div>
    </footer>
    <script>
        // First comparison method (initComparisons)
        function initComparisons() {
            console.log("initComparisons");
            var x, i;
            /* Find all elements with an "overlay" class: */
            x = document.getElementsByClassName("img-comp-overlay");
            for (i = 0; i < x.length; i++) {
                /* Once for each "overlay" element:
                pass the "overlay" element as a parameter when executing the compareImages function: */
                compareImages(x[i]);
            }
            function compareImages(img) {
                var slider, img, clicked = 0, w, h;
                /* Get the width and height of the img element */
                w = img.offsetWidth;
                h = img.offsetHeight;
                /* Set the width of the img element to 50%: */
                img.style.width = (w / 2) + "px";
                /* Create slider: */
                slider = document.createElement("DIV");
                slider.setAttribute("class", "img-comp-slider");
                /* Insert slider */
                img.parentElement.insertBefore(slider, img);
                /* Position the slider in the middle: */
                slider.style.top = (h / 2) - (slider.offsetHeight / 2) + "px";
                slider.style.left = (w / 2) - (slider.offsetWidth / 2) + "px";
                /* Execute a function when the mouse button is pressed: */
                slider.addEventListener("mousedown", slideReady);
                /* And another function when the mouse button is released: */
                window.addEventListener("mouseup", slideFinish);
                /* Or touched (for touch screens: */
                slider.addEventListener("touchstart", slideReady);
                /* And released (for touch screens: */
                window.addEventListener("touchend", slideFinish);
                function slideReady(e) {
                    /* Prevent any other actions that may occur when moving over the image: */
                    e.preventDefault();
                    /* The slider is now clicked and ready to move: */
                    clicked = 1;
                    /* Execute a function when the slider is moved: */
                    window.addEventListener("mousemove", slideMove);
                    window.addEventListener("touchmove", slideMove);
                }
                function slideFinish() {
                    /* The slider is no longer clicked: */
                    clicked = 0;
                }
                function slideMove(e) {
                    var pos;
                    /* If the slider is no longer clicked, exit this function: */
                    if (clicked == 0) return false;
                    /* Get the cursor's x position: */
                    pos = getCursorPos(e)
                    /* Prevent the slider from being positioned outside the image: */
                    if (pos < 0) pos = 0;
                    if (pos > w) pos = w;
                    /* Execute a function that will resize the overlay image according to the cursor: */
                    slide(pos);
                }
                function getCursorPos(e) {
                    var a, x = 0;
                    e = (e.changedTouches) ? e.changedTouches[0] : e;
                    /* Get the x positions of the image: */
                    a = img.getBoundingClientRect();
                    
                    /* Calculate the cursor's x coordinate, relative to the image: */
                    x = e.pageX - a.left;
                    /* Consider any page scrolling: */
                    x = x - window.pageXOffset;
                    return x;
                }
                function slide(x) {
                    /* Resize the image: */
                    img.style.width = x + "px";
                    /* Position the slider: */
                    slider.style.left = img.offsetWidth - (slider.offsetWidth / 2) + "px";
                }
            }
        }

        // Main document ready function for image comparison only
        document.addEventListener("DOMContentLoaded", function() {
            console.log("Image comparison initialized");
            
            // Initialize both comparison methods
            initComparisons();

            // Second comparison method (slider container)
            const container = document.querySelector('.slider-container');
            const beforeImage = document.querySelector('.image-before');
            const sliderHandle = document.querySelector('.slider-handle');
            const sliderLine = document.querySelector('.slider-line');
            
            if (container && beforeImage && sliderHandle && sliderLine) {
                let isDragging = false;

                const getPosition = (event) => {
                    const { left, width } = container.getBoundingClientRect();
                    let position;
                    
                    if (event.type.includes('mouse')) {
                        position = (event.clientX - left) / width;
                    } else {
                        position = (event.touches[0].clientX - left) / width;
                    }
                    
                    return Math.min(Math.max(position, 0), 1);
                };

                const move = (event) => {
                    if (!isDragging) return;
                    
                    // Prevent default behavior to stop highlighting
                    event.preventDefault();
                    
                    const position = getPosition(event);
                    const percentage = position * 100;
                    
                    beforeImage.style.clipPath = `polygon(0 0, ${percentage}% 0, ${percentage}% 100%, 0 100%)`;
                    sliderHandle.style.left = `calc(${percentage}% - 20px)`;
                    sliderLine.style.left = `${percentage}%`;
                };

                // Mouse events
                sliderHandle.addEventListener('mousedown', (e) => {
                    isDragging = true;
                    e.preventDefault(); // Prevent default on mousedown
                });
                window.addEventListener('mouseup', () => isDragging = false);
                window.addEventListener('mousemove', move);

                // Touch events
                sliderHandle.addEventListener('touchstart', (e) => {
                    isDragging = true;
                    e.preventDefault(); // Prevent default on touchstart
                });
                window.addEventListener('touchend', () => isDragging = false);
                window.addEventListener('touchmove', move);
            }
        });
    </script>
</body>
</html>